{% extends "base.html" %}
{% block title %}CSV Upload{% endblock %}

{% block nav_tabs %}
<div class="tab-bar">
  <a href="/delivery/dashboard">тЖР Delivery</a>
  <a href="/delivery/upload-csv" class="active">ЁЯУВ CSV Upload</a>
</div>
{% endblock %}

{% block content %}
<div class="page-title">ЁЯУВ BPCL CSV рдЕрдкрд▓реЛрдб / Upload</div>
<div class="page-sub">BPCL SAP delivery list ┬╖ рдХрд┐рддреАрд╣реА рд╡реЗрд│рд╛ upload рдХрд░рддрд╛ рдпреЗрддреЛ</div>

{% if result %}
<div class="alert alert-success">
  тЬЕ Upload successful / рдпрд╢рд╕реНрд╡реА!<br>
  New: <strong>{{ result.imported }}</strong> ┬╖ 
  Updated: <strong>{{ result.updated }}</strong> ┬╖ 
  Skipped (delivered): <strong>{{ result.skipped_delivered }}</strong> ┬╖ 
  Total today: <strong>{{ result.total_today }}</strong>
</div>
{% endif %}

<div class="card">
  <div class="card-title">ЁЯУд CSV File Upload</div>
  <p style="font-size:0.82rem;color:#6b7280;margin-bottom:14px;">
    BPCL SAP рдордзреВрди download рдХреЗрд▓реЗрд▓реА CSV file рдирд┐рд╡рдбрд╛.<br>
    рдЖрдзреА deliver рдЭрд╛рд▓реЗрд▓реЗ customers рдкреБрдиреНрд╣рд╛ рдпреЗрдгрд╛рд░ рдирд╛рд╣реАрдд.
  </p>
  <form method="post" action="/delivery/upload-csv" enctype="multipart/form-data">
    <div class="form-group">
      <label>CSV File Select рдХрд░рд╛</label>
      <input type="file" name="csv_file" accept=".csv" required>
    </div>
    <button type="submit" class="btn btn-primary btn-block">ЁЯУд Upload рдХрд░рд╛</button>
  </form>
</div>

<div class="card">
  <div class="card-title">тД╣я╕П CSV Format Info</div>
  <p style="font-size:0.82rem;color:#374151;">Expected columns (any order):</p>
  <code style="font-size:0.78rem;background:#f3f4f6;padding:8px;display:block;border-radius:6px;margin-top:8px;">
    Consumer No, Consumer Name, Address, Mobile, Area, Booking Type, Product Code
  </code>
  <p style="font-size:0.78rem;color:#6b7280;margin-top:8px;">BPCL CSV headers are auto-detected.</p>
</div>
{% endblock %}
